{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "https://www.building-envelopes.org/schema#",
    "title": "dbe - data schema for building envelopes",
    "description": "This data schema allows to exchange detailed data about building envelopes. For each data point, there is exactly one key in the schema to make it easy to develop software which interprets the data correctly. If you should miss any key, please propose it at the website to be included in the next updata of this schema.",
    "definitions": {
        "internationalString": {
            "type": "object",
            "properties": {
                "en-US": {
                    "type": "string"
                }
            },
            "description": "It has been decided to keep everything in English so far. If other languages are included at a later stage, this structure makes it easy."
        },
        "created": {
            "type": "object",
            "properties": {
                "created": {
                    "type": "string",
                    "format": "date-time"
                }
            },
            "required": [],
            "description": "The date when this data was first stored in the database."
        },
        "valid": {
            "type": "object",
            "properties": {            
                "from": {
                    "type": "string",
                    "format": "date-time",
                    "description": "The earliest date for which the data is valid."
                },
                "until": {
                    "type": "string",
                    "format": "date-time",
                    "description": "The lastest date for which the data is valid."
                }
            },
            "required": [],
            "minProperties": 1
        },
        "available": {
            "type": "object",
            "properties": { 
                "from": {
                    "type": "string",
                    "format": "date-time",
                    "description": "The earliest date at which it was available."
                },
                "until": {
                    "type": "string",
                    "format": "date-time",
                    "description": "The earliest date at which it was available."
                }
            },
            "required": [],
            "minProperties": 1
        },
        "contact": {
            "title": "In this section, you find all contact data for an institution or person.",
            "type": "object",
            "properties": {
                "phone": {
                    "type": "string",
                    "description": "Phone number of an institution or person"
                },
                "address": {
                    "type": "string",
                    "description": "Postal address of an institution or person"
                },
                "email": {
                    "type": "string",
                    "format": "email",
                    "description": "E-mail address of an institution or person"
                },
                "website": {
                    "type": "string",
                    "format": "hostname",
                    "description": "Website of an institution or person"
                }
            },
            "required": [],
            "minProperties": 1
        },
        "basicStakeholder": {
            "title": "A stakeholder can be either an institution or a person. This section collects the basic data of stakeholders.",
            "type": "object",
            "properties": {
                "uri": {
                    "type": "string",
                    "format": "uri",
                    "description": "This URI defines the stakeholder which is either an institution or a person."
                },
                "description": {
                    "$ref": "#/definitions/internationalString",
                    "description": "This description can specify the role of the stakeholder."
                }
            },
            "required": [
                "uri"
            ]
        },
        "person": {
            "title": "This section collects all data about a person.",
            "type": "object",
            "properties": {
                "uri": {
                    "type": "string",
                    "format": "uri",
                    "description": "The URI which defines the person"
                },
                "names": {
                    "type": "object",
                    "properties": {
                        "family": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            },
                            "description": "The family name(s) also known as surname(s) or last name(s) of a person"
                        },
                        "given": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            },
                            "description": "The given name(s) also known as forname(s) or first name(s) of a person"
                        }
                    }                    
                },
                "institution": {
                    "type": "object",
                    "properties": {
                        "uri": {
                            "type": "string",
                            "format": "uri",
                            "description": "The URI which defines the affiliation of the person"
                        },
                        "name": {
                            "$ref": "#/definitions/internationalString",
                            "description": "The name of the affiliation of the person"
                        }
                    },
                    "required": []
                },
                "contact": {
                    "$ref": "#/definitions/contact",
                    "description": "How to contact the person"
                }
            },
            "required": []
        },
        "institution": {
            "title": "This sections collects data about an institution.",
            "type": "object",
            "properties": {
                "uri": {
                    "type": "string",
                    "format": "uri",
                    "description": "The URI which defines the institution"
                },
                "name": {
                    "$ref": "#/definitions/internationalString",
                    "description": "The name of the institution"
                },
                "abbreviation": {
                    "type": "string",
                    "description": "The abbreviation of the institution"
                },
                "description": {
                    "$ref": "#/definitions/internationalString",
                    "description": "The description can further explain the role of the institution."
                },
                "publicKey": {
                    "type": "string",
                    "description": "The public key of the institution for cryptography"
                },
                "contact": {
                    "$ref": "#/definitions/contact",
                    "description": "How to contact the institution"
                }
            },
            "required": [
                "uri"
            ]
        },
        "roles": {
            "title": "This section collects the definitions of the various roles which an institution or a person can have.",
            "owner": {
                "$ref": "#/definitions/basicStakeholder",
                "description": "The owner holds the rights for example on a component and is defined by an URI."
            },
            "submitter": {
                "$ref": "#/definitions/basicStakeholder",
                "description": "The submitter submits data to a database and is defined by an URI."
            },
            "manufacturer": {
                "$ref": "#/definitions/basicStakeholder",
                "description": "The manufacturer manufactures the componente and is defined by an URI."
            },
            "approver": {
                "$ref": "#/definitions/basicStakeholder",
                "description": "The approver states that data or a method fulfills certain requirements. She is defined by an URI."
            },
            "admin": {
                "$ref": "#/definitions/basicStakeholder",
                "description": "The admin is in charge of a database and is defined by an URI."
            },
            "author": {
                "$ref": "#/definitions/person",
                "description": "The author of a publication is defined by an URI."
            },
            "developer": {
                "$ref": "#/definitions/basicStakeholder",
                "description": "The developer of a method or component is defined by an URI."
            },
            "creator": {
                "$ref": "#/definitions/basicStakeholder",
                "description": "The creator of a data set is defined by an URI."
            },
            "standardizer": {
                "type": "object",
                "properties": {
                    "uri": {
                        "type": "string",
                        "format": "uri"
                    },
                    "abbreviation": {
                        "type": "string"
                    }
                },
                "required": [
                    "uri"
                ],
                "description": "A standardizer is an institution which creates a standard. The institution is defined by an URI."
            }
        },
        "component": {
            "title": "This section collects the definitions regarding components of building envelopes",
            "basics": {
                "title": "This section collects the basic definitions about a component.",
                "type": "object",
                "properties": {
                    "uri": {
                        "type": "string",
                        "format": "uri",
                        "descriptions": "The URI of the component"
                    },
                    "name": {
                        "$ref": "#/definitions/internationalString",
                        "description": "The name of the component"
                    },
                    "abbreviation": {
                        "type": "string",
                        "description": "The abbreviation of the component"
                    },
                    "description": {
                        "$ref": "#/definitions/internationalString",
                        "description": "A description of the component"
                    },
                    "version": {
                        "type": "string",
                        "format": "uri",
                        "description": "The URI defines the version of the component."
                    },
                    "categories": {
                        "$ref": "#/definitions/component/categories",
                        "description": "The component is categorized in order to facilitate queries." 
                    },
                    "constants": {
                        "$ref": "#/definitions/component/constants",
                        "description": "There are two types of parameters: constants are defined here and do not change in one data set. Variables may change for each data point. Therefore, variables are stored close to the data points."
                    },
                    "roles": {
                        "owner": {
                            "$ref": "#/definitions/basicStakeholder",
                            "description": "The URI and description of the owner of the component"
                        },
                        "manufacturer": {
                            "$ref": "#/definitions/basicStakeholder",
                            "description": "The URI and description of the manufacturer of the component"
                        },
                        "developer": {
                            "$ref": "#/definitions/roles/developer",
                            "description": "The URI and description of the institution or person which developed the component"
                        }
                    },
                    "approvals": {
                        "$ref": "#/definitions/approvals",
                        "description": "If the dataset for this component has been approved by an institution, this approval is specified here."
                    },
                    "available": {
                        "$ref": "#/definitions/available",
                        "description": "Since when and until when the component has been available"
                    },
                    "optical": {
                        "$ref": "#/definitions/optical/basics",
                        "description": "All optical data of the data set is stored in this section."
                    }
                },
                "required": [
                    "uri"
                ]
            },            
            "categories": {
                "type": "array",
                "items": {
                    "type": "string",
                    "enum": [
                        "material",
                        "layer",
                        "unit"
                    ]
                },
                "minItems": 0
            },
            "material": {
                "categories": {
                    "type": "array",
                    "items": {
                        "type": "string",
                        "enum": [
                            "monolithic",
                            "coating",
                            "PVB",
                            "film",
                            "frit",
                            "fabric/woven",
                            "fabric/nonWoven",
                            "slat",
                            "baseMaterial"
                        ]
                    },
                    "minItems": 0
                }
            },
            "layer": {
                "categories": {
                    "type": "array",
                    "items": {
                        "type": "string",
                        "enum": [
                            "monolithic",
                            "coated",
                            "laminate",
                            "film/applied",
                            "glass/fritted",
                            "Arm",
                            "Austrian",
                            "Awning",
                            "Blind",
                            "BriseSoleil",
                            "Concertina",
                            "Conservatory",
                            "Drapes",
                            "Dutch",
                            "External",
                            "Facade",
                            "Festoon",
                            "Fixed",
                            "Folding",
                            "Guided",
                            "Hinged",
                            "Honeycomb",
                            "Insect",
                            "Marquisolette",
                            "Panel",
                            "Pergola",
                            "Pivot",
                            "Plantation",
                            "Pleated",
                            "Quilts",
                            "Roller",
                            "Roll-up",
                            "Roman",
                            "Roof",
                            "Screen",
                            "Shutter",
                            "Slat",
                            "Slide",
                            "Sliding",
                            "Solar",
                            "Terrace",
                            "Treillis",
                            "Venetian",
                            "Vertical",
                            "Window"
                        ]
                    },
                    "minItems": 0
                }
            },
            "unit": {
                "categories": {
                    "type": "array",
                    "items": {
                        "type": "string",
                        "enum": [
                            "glazing",
                            "window",
                            "cladding",
                            "prefabricatedFacadeElement",
                            "transomMullionFacade",
                            "projectingComponent"
                        ]
                    },
                    "minItems": 0
                }
            },
            "version": {
                "type": "object",
                "properties": {
                    "uri": {
                        "type": "string",
                        "format": "uri"
                    },
                    "name": {
                        "$ref": "#/definitions/internationalString"
                    },
                    "description": {
                        "$ref": "#/definitions/internationalString"
                    },
                    "roles": {
                        "owner": {
                            "$ref": "#/definitions/basicStakeholder",
                            "description": "The URI and description of the owner of the component"
                        },
                        "manufacturer": {
                            "$ref": "#/definitions/basicStakeholder",
                            "description": "The URI and description of the manufacturer of the component"
                        },
                        "developer": {
                            "$ref": "#/definitions/roles/developer",
                            "description": "The URI and description of the institution or person which developed the component"
                        }
                    },
                    "available": {
                        "$ref": "#/definitions/available",
                        "description": "Since when and until when the component has been available"
                    }
                },
                "required": [
                    "uri"
                ]
            },
            "constants": {
                "type": "object",
                "properties": {
                    "geometry": {
                        "$ref": "#/definitions/geometry/basics"
                    },
                    "airPermeability": {
                        "$ref": "#/definitions/valueWithUncertainty"
                    },
                    "colour": {
                        "$ref": "#/definitions/colour"
                    },
                    "optical/angle/cutOff": {
                        "$ref": "#/definitions/valueWithUncertainty"
                    },
                    "chemicalElements": {
                        "type": "array",
                        "items": {
                            "type": "string",
                            "pattern": "[A-Z][a-z]?"
                        },
                        "minItems": 1
                    },
                    "material": {
                        "$ref": "#/definitions/material/constants"
                    },
                    "layer": {
                        "$ref": "#/definitions/layer/constants"
                    },
                    "unit": {
                        "$ref": "#/definitions/unit/constants"
                    }
                },
                "required": []
            }
        },
        "method": {
            "basics": {
                "type": "object",
                "properties": {
                    "uri": {
                        "type": "string",
                        "format": "uri"
                    },
                    "name": {
                        "$ref": "#/definitions/internationalString"
                    },
                    "description": {
                        "$ref": "#/definitions/internationalString"
                    },
                    "definition": {
                        "$ref": "#/definitions/method/definition"
                    },
                    "type": {
                        "type": "array",
                        "items": {
                            "type": "string",
                            "enum": [
                                "measurement",
                                "calculation"
                            ]
                        },
                        "minItems": 0
                    },
                    "developer": {
                        "$ref": "#/definitions/roles/developer"
                    },
                    "reference": {
                        "$ref": "#/definitions/reference"
                    },
                    "created": {
                        "$ref": "#/definitions/created"
                    },
                    "valid": {
                        "$ref": "#/definitions/valid"
                    },
                    "available": {
                        "$ref": "#/definitions/available"
                    },
                    "calculation": {
                        "$ref": "#/definitions/method/calculation"
                    }
                },
                "required": [
                    "uri"
                ]
            },
            "definition": {
                "type": "object",
                "properties": {
                    "onInputs": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "properties": {
                                "uri": {
                                    "type": "string",
                                    "format": "uri"
                                }
                            }
                        },
                        "description": "Each item defines the URI of one method. The first method will be applied to the first input, the second to the second and so forth. An empty URI string defines that no method is applied on the corresponding input.",
                        "minItems": 0
                    },
                    "onOutput": {
                        "type": "object",
                        "properties": {
                            "uri": {
                                "type": "string",
                                "format": "uri"
                            },
                            "description": "This URI defines the method which is applied after input methods have been applied on the inputs. The output method with this URI generates the results of the method."
                        }
                    }
                }
            },
            "calculation": {
                "type": "array",
                "items": [
                    {
                        "type": "object",
                        "properties": {
                            "code": {
                                "type": "string"
                            },
                            "format": {
                                "$ref": "#/definitions/format"
                            }
                        },
                        "required": [
                            "code"
                        ]
                    },
                    {
                        "type": "object",
                        "properties": {
                            "executable": {
                                "type": "object",
                                "properties": {
                                    "uri": {
                                        "type": "string",
                                        "format": "uri"
                                    }
                                },
                                "required": [
                                    "uri"
                                ]
                            },
                            "format": {
                                "$ref": "#/definitions/format"
                            }
                        },
                        "required": [
                            "executable"
                        ]
                    }
                ],
                "minItems": 1
            }
        },
        "reference": {
            "type": "array",
            "items": [
                {
                    "type": "object",
                    "properties": {
                        "standard": {
                            "$ref": "#/definitions/standard"
                        }
                    }
                },
                {
                    "type": "object",
                    "properties": {
                        "publication": {
                            "$ref": "#/definitions/publication"
                        }
                    }
                }
            ],
            "minItems": 1
        },
        "publication": {
            "type": "object",
            "properties": {
                "uri": {
                    "type": "string",
                    "format": "uri"
                },
                "title": {
                    "$ref": "#/definitions/internationalString"
                },
                "abstract": {
                    "$ref": "#/definitions/internationalString"
                },
                "authors": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/person"
                    },
                    "minItems": 1
                }
            },
            "required": [
                "uri"
            ]
        },
        "standard": {
            "type": "object",
            "properties": {
                "standardizers": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/roles/standardizer"
                    }
                },
                "identifier": {
                    "type": "object",
                    "properties": {                    
                        "prefix": {
                            "type": "string"
                        },
                        "mainNumber": {
                            "type": "integer",
                            "minimum": 0,
                            "maximum": 10000000
                        },
                        "postfix": {
                            "type": "integer",
                            "minimum": 0,
                            "maximum": 10000
                        }
                    },
                    "required": ["mainNumber"]
                },
                "year": {
                    "type": "integer",
                    "minimum": 1800,
                    "maximum": 2200
                }
            },
            "required": [
                "abbreviation",
                "identifier"
            ]
        },
        "database": {
            "type": "object",
            "properties": {
                "uri": {
                    "type": "string",
                    "format": "uri"
                },
                "name": {
                    "$ref": "#/definitions/internationalString"
                },
                "description": {
                    "$ref": "#/definitions/internationalString"
                },
                "owner": {
                    "$ref": "#/definitions/basicStakeholder"
                },
                "admin": {
                    "$ref": "#/definitions/basicStakeholder"
                },
                "created": {
                    "$ref": "#/definitions/created"
                },
                "valid": {
                    "$ref": "#/definitions/valid"
                },
                "available": {
                    "$ref": "#/definitions/available"
                },
                "internalComment": {
                    "type": "string"
                }
            },
            "required": [
                "uri"
            ]
        },
        "approvals": {
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "uri": {
                        "type": "string",
                        "format": "uri"
                    },
                    "approver": {
                        "type": "string",
                        "format": "uri"
                    },
                    "verify": {
                        "$ref": "#/definitions/approval/verify"
                    },
                    "signature": {
                        "type": "string"
                    },
                    "created": {
                        "$ref": "#/definitions/created"
                    },
                    "valid": {
                        "$ref": "#/definitions/valid"
                    }
                },
                "required": [
                    "approver"
                ]
            }
        },
        "approval": {
            "verify": {
                "type": "object",
                "properties": {
                    "website": {
                        "type": "string",
                        "format": "hostname"
                    },
                    "description": {
                        "$ref": "#/definitions/internationalString"
                    }
                },
                "required": [
                    "website"
                ]
            }
        },
        "possiblePositions": {
            "type": "array",
            "items": {
                "type": "string",
                "enum": [
                    "exterior",
                    "betweenGlassPanes",
                    "interior"
                ]
            },
            "minItems": 0
        },
        "colour": {
            "type": "object",
            "properties": {
                "name": {
                    "$ref": "#/definitions/internationalString"
                },
                "CRI": {
                    "$ref": "#/definitions/valueWithUncertainty"
                },
                "CIELAB": {
                    "L*": {
                        "$ref": "#/definitions/valueWithUncertainty"
                    },
                    "a*": {
                        "$ref": "#/definitions/valueWithUncertainty"
                    },
                    "b*": {
                        "$ref": "#/definitions/valueWithUncertainty"
                    }
                }
            },
            "required": []
        },
        "format": {
            "type": "object",
            "properties": {
                "uri": {
                    "type": "string",
                    "format": "uri"
                },
                "abbreviation": {
                    "type": "string"
                },
                "name": {
                    "$ref": "#/definitions/internationalString"
                },
                "description": {
                    "$ref": "#/definitions/internationalString"
                },
                "reference": {
                    "$ref": "#/definitions/reference"
                }
            },
            "required": []
        },
        "file": {
            "type": "object",
            "properties": {
                "uri": {
                    "type": "string",
                    "format": "uri"
                },
                "name": {
                    "$ref": "#/definitions/internationalString"
                },
                "description": {
                    "$ref": "#/definitions/internationalString"
                },
                "format": {
                    "$ref": "#/definitions/format"
                },
                "creator": {
                    "$ref": "#/definitions/roles/creator"
                },
                "approvals": {
                    "$ref": "#/definitions/approvals"
                },
                "created": {
                    "$ref": "#/definitions/created"
                },
                "valid": {
                    "$ref": "#/definitions/valid"
                }
            },
            "required": [
                "uri"
            ]
        },
        "dimensions": {
            "basics": {
                "type": "object",
                "properties": {
                    "size": {
                        "type": "object",
                        "properties": {
                            "largest": {
                                "$ref": "#/definitions/valueWithUncertainty"
                            },
                            "intermediate": {
                                "$ref": "#/definitions/valueWithUncertainty"
                            },
                            "smallest": {
                                "$ref": "#/definitions/valueWithUncertainty"
                            }
                        }
                    },
                    "envelope": {
                        "type": "object",
                        "properties": {
                            "vertical": {
                                "$ref": "#/definitions/valueWithUncertainty"
                            },
                            "parallel": {
                                "$ref": "#/definitions/valueWithUncertainty"
                            },
                            "orthogonal": {
                                "$ref": "#/definitions/valueWithUncertainty"
                            }
                        },
                        "description": "The orientations vertical, parallel and orthogonal refer to the building envelope and the component in its usual mounting position."
                    },
                    "file": {
                        "$ref": "#/definitions/file"
                    }
                },
                "required": []
            },
            "outer": {
                "type": "object",
                "properties": {
                    "dimensions": {
                        "$ref": "#/definitions/dimensions/basics"
                    }
                },
                "required": [
                    "dimensions"
                ]
            }
        },
        "geometry": {
            "basics": {
                "type": "object",
                "properties": {
                    "dimensions": {
                        "$ref": "#/definitions/geometry/dimensions"
                    },
                    "boundingBox": {
                        "$ref": "#/definitions/geometry/dimensions"
                    },
                    "coordinateSystem": {
                        "$ref": "#/definitions/geometry/coordinateSystem"
                    },
                    "surfaces": {
                        "type": "array",
                        "items": {
                            "$ref": "#/definitions/geometry/surface"
                        },
                        "minItems": 1
                    },
                    "bodies": {
                        "type": "array",
                        "items": [
                            {
                                "body": {
                                    "$ref": "#/definitions/geometry/body"
                                }
                            }
                        ],
                        "minItems": 1
                    }
                },
                "required": []
            },
            "point": {
                "type": "object",
                "properties": {
                    "x": {
                        "type": "number"
                    },
                    "y": {
                        "type": "number"
                    },
                    "z": {
                        "type": "number"
                    },
                    "description": "A cartesian coordinate system is assumed."
                },
                "required": [
                    "x",
                    "y",
                    "z"
                ]
            },
            "coordinateSystem": {
                "type": "object",
                "properties": {
                    "reference": {
                        "$ref": "#/definitions/reference"
                    },
                    "origin": {
                        "$ref": "#/definitions/geometry/point"
                    }
                },
                "required": []
            },
            "surface": {
                "type": "array",
                "items": {
                    "$ref": "#/definitions/geometry/point"
                },
                "minItems": 3
            },
            "body": {
                "type": "array",
                "items": {
                    "$ref": "#/definitions/geometry/point"
                },
                "minItems": 4
            },
            "curve": {
                "type": "array",
                "items": {
                    "$ref": "#/definitions/geometry/point"
                },
                "minItems": 2
            }
        },
        "assembly": {
            "type": "array",
            "items": [
                {
                    "type": "object",
                    "properties": {
                        "uri": {
                            "type": "string",
                            "format": "uri"
                        },
                        "geometry": {
                            "$ref": "#/definitions/geometry/basics"
                        }
                    },
                    "required": [
                        "uri"
                    ]
                }
            ],
            "minItems": 2
        },
        "material": {
            "constants": {
                "type": "object",
                "properties": {
                    "possiblePositions": {
                        "$ref": "#/definitions/possiblePositions"
                    }
                },
                "required": []
            }
        },
        "layer": {
            "constants": {
                "type": "object",
                "properties": {
                    "possiblePositions": {
                        "$ref": "#/definitions/possiblePositions"
                    },
                    "orientationAxis": {
                        "type": "array",
                        "items": {
                            "type": "string",
                            "enum": [
                                "horizontal",
                                "vertical"
                            ]
                        },
                        "minItems": 0,
                        "maxItems": 1
                    },
                    "maximumClosingAngle": {
                        "$ref": "#/definitions/valueWithUncertainty"
                    },
                    "slat": {
                        "type": "object",
                        "properties": { 
                            "width": {
                                "$ref": "#/definitions/valueWithUncertainty"
                            },
                            "pitch": {
                                "$ref": "#/definitions/valueWithUncertainty"
                            },
                            "crownHeight": {
                                "$ref": "#/definitions/valueWithUncertainty"
                            },
                            "shape": {
                                "type": "object",
                                "properties": {
                                    "geometry": {
                                        "$ref": "#/definitions/geometry/basics"
                                    },
                                    "reference": {
                                        "$ref": "#/definitions/reference"
                                    }
                                },
                                "required": []
                            }
                        }
                    }
                },
                "required": []
            }
        },
        "unit": {
            "constants": {
                "type": "object",
                "properties": {
                    "gaps": {
                        "type": "object",
                        "properties": {
                            "dTop": {
                                "$ref": "#/definitions/valueWithUncertainty"
                            },
                            "dGlass": {
                                "$ref": "#/definitions/valueWithUncertainty"
                            },
                            "reference": {
                                "$ref": "#/definitions/reference"
                            }
                        },
                        "required": []
                    }
                },
                "required": []
            }
        },
        "valueWithUncertainty": {
            "type": "array",
            "items": [
                {
                    "type": "number",
                    "minimum": 0
                },
                {
                    "type": "object",
                    "properties": {
                        "reference": {
                            "$ref": "#/definitions/reference"
                        }
                    },
                    "required": [
                        "reference"
                    ]
                }
            ],
            "minItems": 2
        },
        "source": {
            "type": "object",
            "properties": {
                "uri": {
                    "type": "string",
                    "format": "uri"
                },
                "name": {
                    "$ref": "#/definitions/internationalString"
                },
                "description": {
                    "$ref": "#/definitions/internationalString"
                }
            },
            "required": [
                "uri"
            ]
        },
        "origin": {
            "type": "object",
            "properties": {
                "creator": {
                    "$ref": "#/definitions/roles/creator"
                },
                "method": {
                    "$ref": "#/definitions/method/basics"
                },
                "source": {
                    "$ref": "#/definitions/source"
                },
                "database": {
                    "$ref": "#/definitions/database"
                }
            },
            "required": [],
            "minProperties": 1
        },
        "optical": {
            "basics": {
                "type": "array",
                "items": {
                    "type": "object",
                    "properties": {
                        "uri": {
                            "type": "string",
                            "format": "uri"
                        },
                        "name": {
                            "$ref": "#/definitions/internationalString"
                        },
                        "description": {
                            "$ref": "#/definitions/internationalString"
                        },
                        "origin": {
                            "$ref": "#/definitions/origin"
                        },
                        "approvals": {
                            "$ref": "#/definitions/approvals"
                        },
                        "created": {
                            "$ref": "#/definitions/created"
                        },
                        "valid": {
                            "$ref": "#/definitions/valid"
                        },
                        "constants": {
                            "$ref": "#/definitions/optical/constants"
                        },
                        "file": {
                            "$ref": "#/definitions/file"
                        },
                        "incidence": {
                            "$ref": "#/definitions/optical/incidence"
                        },
                        "variables": {
                            "$ref": "#/definitions/optical/variables"
                        },
                        "emergence": {
                            "$ref": "#/definitions/optical/emergence"
                        },
                        "results": {
                            "$ref": "#/definitions/optical/results"
                        }
                    },
                    "required": [
                        "uri"
                    ]
                },
                "minItems": 1
            },
            "direction": {
                "type": "array",
                "items": [
                    {
                        "type": "object",
                        "properties": {
                            "polar": {
                                "$ref": "#/definitions/valueWithUncertainty"
                            },
                            "azimuth": {
                                "$ref": "#/definitions/valueWithUncertainty"
                            }
                        }
                    },
                    {
                        "type": "object",
                        "properties": {
                            "xz": {
                                "$ref": "#/definitions/valueWithUncertainty"
                            },
                            "yz": {
                                "$ref": "#/definitions/valueWithUncertainty"
                            }
                        }
                    },
                    {
                        "type": "object",
                        "properties": {
                            "incidence": {
                                "$ref": "#/definitions/valueWithUncertainty"
                            },
                            "description": "If the sample has a rotational symmetry, then the incidence angle is sufficient to define the direction."
                        }
                    },
                    {
                        "type": "array",
                        "items": {
                            "type": "string",
                            "enum": [
                                "nearnormal",
                                "hemispherical",
                                "diffuse"
                            ]
                        }
                    },
                    {
                        "type": "object",
                        "properties": {
                            "format": {
                                "$ref": "#/definitions/format"
                            },
                            "array": {
                                "type": "array",
                                "items": {
                                    "type": "number"
                                },
                                "minItems": 1
                            }
                        }
                    }
                ],
                "minItems": 1
            },
            "polarisation": {
                "type": "object",
                "properties": {
                    "linear": {
                        "type": "object",
                        "properties": {
                            "s": {
                                "$ref": "#/definitions/valueWithUncertainty"
                            },
                            "p": {
                                "$ref": "#/definitions/valueWithUncertainty"
                            }
                        }
                    },
                    "circular": {
                        "type": "object",
                        "properties": {
                            "l": {
                                "$ref": "#/definitions/valueWithUncertainty"
                            },
                            "r": {
                                "$ref": "#/definitions/valueWithUncertainty"
                            }
                        }
                    }
                },
                "required": [],
                "minProperties": 2
            },
            "wavelengths": {
                "type": "array",
                "items": [
                    {
                        "type": "object",
                        "properties": {
                            "wavelength": {
                                "$ref": "#/definitions/valueWithUncertainty"
                            }
                        }
                    },
                    {
                        "type": "object",
                        "properties": {
                            "array": {
                                "type": "array",
                                "items": {
                                    "type": "number",
                                    "exclusiveMinimum": 0
                                },
                                "minItems": 1
                            }
                        }
                    },
                    {
                        "type": "object",
                        "properties": {
                            "integral": {
                                "type": "boolean"
                            }
                        }
                    }
                ],
                "minItems": 1
            },
            "wavelength": {
                "range": {
                    "type": "object",
                    "properties": {
                        "##########https://www.building-envelopes.org/optical/wavelength/bandwidth": {
                            "$ref": "#/definitions/valueWithUncertainty"
                        },
                        "https://www.building-envelopes.org/optical/wavelength/amplificationFactor": {
                            "$ref": "#/definitions/valueWithUncertainty"
                        },
                        "https://www.building-envelopes.org/optical/spectrum": {
                            "type": "array",
                            "items": {
                                "type": "string",
                                "enum": [
                                    "https://www.building-envelopes.org/optical/wavelength/integral/visual",
                                    "https://www.building-envelopes.org/optical/wavelength/integral/solar",
                                    "https://www.building-envelopes.org/optical/wavelength/integral/infrared"
                                ]
                            },
                            "minItems": 1,
                            "maxItems": 1
                        }
                    },
                    "required": []
                }
            },
            "incidence": {
                "type": "object",
                "properties": {
                    "https://www.building-envelopes.org/optical/direction": {
                        "$ref": "#/definitions/optical/direction"
                    },
                    "https://www.building-envelopes.org/optical/polarisation": {
                        "$ref": "#/definitions/optical/polarisation"
                    },
                    "https://www.building-envelopes.org/optical/wavelengths": {
                        "$ref": "#/definitions/optical/wavelengths"
                    },
                    "https://www.building-envelopes.org/optical/wavelength/range": {
                        "$ref": "#/definitions/optical/wavelength/range"
                    }
                },
                "required": []
            },
            "emergence": {
                "type": "object",
                "properties": {
                    "https://www.building-envelopes.org/optical/direction": {
                        "$ref": "#/definitions/optical/direction"
                    },
                    "https://www.building-envelopes.org/optical/polarisation": {
                        "$ref": "#/definitions/optical/polarisation"
                    },
                    "https://www.building-envelopes.org/optical/wavelengths": {
                        "$ref": "#/definitions/optical/wavelengths"
                    },
                    "https://www.building-envelopes.org/optical/wavelength/range": {
                        "$ref": "#/definitions/optical/wavelength/range"
                    }
                },
                "required": []
            },
            "parameters": {
                "type": "object",
                "properties": {
                    "https://www.building-envelopes.org/optical/treatmentBefore": {
                        "type": "object",
                        "properties": {
                            "https://www.building-envelopes.org/reference": {
                                "$ref": "#/definitions/reference"
                            }
                        },
                        "required": []
                    },
                    "https://www.building-envelopes.org/optical/locationOnSample": {
                        "type": "object",
                        "properties": {
                            "https://www.building-envelopes.org/reference": {
                                "$ref": "#/definitions/reference"
                            }
                        },
                        "required": []
                    },
                    "https://www.building-envelopes.org/optical/polarizationSensitivity": {
                        "type": "object",
                        "properties": {
                            "https://www.building-envelopes.org/reference": {
                                "$ref": "#/definitions/reference"
                            }
                        },
                        "required": []
                    },
                    "https://www.building-envelopes.org/optical/instrumentSignature": {
                        "type": "object",
                        "properties": {
                            "https://www.building-envelopes.org/reference": {
                                "$ref": "#/definitions/reference"
                            }
                        },
                        "required": []
                    },
                    "https://www.building-envelopes.org/optical/normalization": {
                        "type": "object",
                        "properties": {
                            "https://www.building-envelopes.org/reference": {
                                "$ref": "#/definitions/reference"
                            }
                        },
                        "required": []
                    },
                    "https://www.building-envelopes.org/geometry/coordinateSystem": {
                        "$ref": "#/definitions/geometry/coordinateSystem"
                    },
                    "https://www.building-envelopes.org/optical/referenceSamples": {
                        "type": "object",
                        "properties": {
                            "https://www.building-envelopes.org/uri": {
                                "type": "string",
                                "format": "uri"
                            },
                            "https://www.building-envelopes.org/reference": {
                                "$ref": "#/definitions/reference"
                            }
                        },
                        "required": []
                    },
                    "https://www.building-envelopes.org/optical/spot": {
                        "type": "object",
                        "properties": {
                            "https://www.building-envelopes.org/diameter": {
                                "$ref": "#/definitions/valueWithUncertainty"
                            },
                            "https://www.building-envelopes.org/reference": {
                                "$ref": "#/definitions/reference"
                            }
                        },
                        "required": []
                    },
                    "https://www.building-envelopes.org/energy/supplied": {
                        "$ref": "#/definitions/valueWithUncertainty"
                    },
                    "https://www.building-envelopes.org/optical/angle/slat/tilt": {
                        "$ref": "#/definitions/valueWithUncertainty"
                    }
                },
                "required": []
            },
            "constants": {
                "type": "object",
                "properties": {
                    "https://www.building-envelopes.org/optical/parameters": {
                        "$ref": "#/definitions/optical/parameters"
                    }
                },
                "required": []
            },
            "variables": {
                "type": "object",
                "properties": {
                    "https://www.building-envelopes.org/optical/parameters": {
                        "$ref": "#/definitions/optical/parameters"
                    }
                },
                "required": []
            },
            "BSDF": {
                "type": "object",
                "properties": {
                    "https://www.building-envelopes.org/optical/BTDF": {
                        "$ref": "#/definitions/valueWithUncertainty"
                    },
                    "https://www.building-envelopes.org/optical/BRDF": {
                        "$ref": "#/definitions/valueWithUncertainty"
                    }
                },
                "required": [],
                "minProperties": 1
            },
            "results": {
                "type": "array",
                "items": [
                    {
                        "type": "object",
                        "properties": {
                            "https://www.building-envelopes.org/optical/transmittance": {
                                "$ref": "#/definitions/valueWithUncertainty"
                            },
                            "https://www.building-envelopes.org/optical/reflectance": {
                                "$ref": "#/definitions/valueWithUncertainty"
                            },
                            "https://www.building-envelopes.org/optical/BSDF": {
                                "$ref": "#/definitions/optical/BSDF"
                            }
                        },
                        "required": [],
                        "minProperties": 1
                    },
                    {
                        "https://www.building-envelopes.org/format": {
                            "$ref": "#/definitions/format"
                        },
                        "https://www.building-envelopes.org/optical/transmittance/array": {
                            "type": "array",
                            "items": {
                                "type": "number",
                                "minimum": 0,
                                "maximum": 1
                            },
                            "minItems": 1
                        },
                        "https://www.building-envelopes.org/optical/reflectance/array": {
                            "type": "array",
                            "items": {
                                "type": "number",
                                "minimum": 0,
                                "maximum": 1
                            },
                            "minItems": 1
                        },
                        "https://www.building-envelopes.org/optical/BSDF/array": {
                            "type": "array",
                            "items": {
                                "type": "number",
                                "minimum": 0,
                                "maximum": 1
                            },
                            "minItems": 1
                        }
                    }
                ],
                "minItems": 0
            }
        }
    },
    "type": "object",
    "properties": {
        "https://www.building-envelopes.org/component": {
            "type": "array",
            "items": {
                "$ref": "#/definitions/component/basics"
            },
            "minItems": 1
        }
    },
    "required": [
        "https://www.building-envelopes.org/component"
    ]
}